---
# Backuparr - Automated backup for media applications
# Supports: Servarr apps, Jellyfin, Sabnzbd, Overseerr, Audiobookshelf, and more

# CronJob schedule (default: 3 AM daily)
schedule: "0 3 * * *"
timezone: "UTC"

# Image configuration
image:
  repository: alpine
  tag: "3.19"
  pullPolicy: IfNotPresent

# ============================================================
# Applications Configuration
# ============================================================
# All apps are disabled by default - enable and configure as needed
apps:
  # --- Servarr API-based backups ---
  radarr:
    enabled: false
    url: ""  # e.g., "http://radarr:7878"
    apiVersion: "v3"

  sonarr:
    enabled: false
    url: ""  # e.g., "http://sonarr:8989"
    apiVersion: "v3"

  prowlarr:
    enabled: false
    url: ""  # e.g., "http://prowlarr:9696"
    apiVersion: "v1"

  lidarr:
    enabled: false
    url: ""  # e.g., "http://lidarr:8686"
    apiVersion: "v3"

  readarr:
    enabled: false
    url: ""  # e.g., "http://readarr:8787"
    apiVersion: "v3"

  # --- Other API-based backups ---
  sabnzbd:
    enabled: false
    url: ""  # e.g., "http://sabnzbd:8080"

  seerr:  # Overseerr/Jellyseerr
    enabled: false
    url: ""  # e.g., "http://seerr:5055"

  audiobookshelf:
    enabled: false
    url: ""  # e.g., "http://audiobookshelf:80"

  # --- Filesystem-based backups ---
  # These require mounting the app's config PVC
  bazarr:
    enabled: false
    configPvc: ""  # e.g., "bazarr-config-pvc"

  jellyfin:
    enabled: false
    configPvc: ""  # e.g., "jellyfin-config-pvc"

  tdarr:
    enabled: false
    configPvc: ""  # e.g., "tdarr-config-pvc"

  kapowarr:
    enabled: false
    configPvc: ""  # e.g., "kapowarr-config-pvc"

  lazylibrarian:
    enabled: false
    configPvc: ""  # e.g., "lazylibrarian-config-pvc"

  wizarr:
    enabled: false
    configPvc: ""  # e.g., "wizarr-config-pvc"

  tunarr:
    enabled: false
    configPvc: ""  # e.g., "tunarr-config-pvc"

# ============================================================
# API Keys Secret
# ============================================================
# Create a secret with keys matching app names:
# radarr, sonarr, prowlarr, lidarr, readarr, sabnzbd, seerr, audiobookshelf
existingSecret: ""

# ============================================================
# Backup Storage
# ============================================================
storage:
  # NFS configuration - set your NFS server details
  nfs:
    server: ""      # e.g., "192.168.1.100"
    path: ""        # e.g., "/volume1/backups"

  # Storage class for the PV/PVC
  storageClassName: ""
  accessMode: ReadWriteMany
  capacity: "100Gi"

# ============================================================
# Retention
# ============================================================
retention:
  enabled: true
  days: 30

# ============================================================
# Resources
# ============================================================
resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 100m
    memory: 128Mi

# Job history
successfulJobsHistoryLimit: 3
failedJobsHistoryLimit: 3

# Pod configuration
podAnnotations: {}
nodeSelector: {}
tolerations: []
affinity: {}
